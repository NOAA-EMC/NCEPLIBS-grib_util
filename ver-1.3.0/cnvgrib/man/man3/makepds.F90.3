.TH "/home/ed/NCEPLIBS-grib_util/src/cnvgrib/makepds.F90" 3 "Tue Oct 10 2023" "Version 1.3.0" "cnvgrib" \" -*- nroff -*-
.ad l
.nh
.SH NAME
/home/ed/NCEPLIBS-grib_util/src/cnvgrib/makepds.F90 \- Create a GRIB1 PDS (Section 1)\&.  

.SH SYNOPSIS
.br
.PP
.SS "Functions/Subroutines"

.in +1c
.ti -1c
.RI "subroutine \fBlevelcnv\fP (ipdstmpl, ltype, lval)"
.br
.RI "This routine converts Level/layer information from a GRIB2 Product Definition Template to GRIB1 Level type and Level value\&. "
.ti -1c
.RI "subroutine \fBmakepds\fP (idisc, idsect, ipdsnum, ipdstmpl, ibmap, idrsnum, idrstmpl, kpds, iret)"
.br
.RI "This routine creates a GRIB1 PDS (Section 1) from appropriate information from a GRIB2 Product Definition Template\&. "
.in -1c
.SH "Detailed Description"
.PP 
Create a GRIB1 PDS (Section 1)\&. 


.PP
\fBAuthor\fP
.RS 4
Stephen Gilbert 
.RE
.PP
\fBDate\fP
.RS 4
2003-06-12 
.RE
.PP

.PP
Definition in file \fBmakepds\&.F90\fP\&.
.SH "Function/Subroutine Documentation"
.PP 
.SS "subroutine levelcnv (integer, dimension(*), intent(in) ipdstmpl, integer, intent(out) ltype, integer, intent(out) lval)"

.PP
This routine converts Level/layer information from a GRIB2 Product Definition Template to GRIB1 Level type and Level value\&. 
.SS "Program History Log"
Date   Programmer   Comments    2003-06-12   Gilbert   Initial    2007-10-24   Boi Vuong   Added level 8 (Nominal top of atmosphere)    2011-01-13   Boi Vuong   Added level/layer values from 235 to 239   
.PP
\fBParameters\fP
.RS 4
\fIipdstmpl\fP GRIB2 Product Definition Template values 
.br
\fIltype\fP GRIB1 level type (PDS octet 10) 
.br
\fIlval\fP GRIB1 level/layer value(s) (PDS octets 11 and 12)
.RE
.PP
\fBAuthor\fP
.RS 4
Stephen Gilbert 
.RE
.PP
\fBDate\fP
.RS 4
2003-06-12 
.RE
.PP

.PP
Definition at line 347 of file makepds\&.F90\&.
.PP
Referenced by makepds()\&.
.SS "subroutine makepds (integer, intent(in) idisc, integer, dimension(*), intent(in) idsect, integer, intent(in) ipdsnum, integer, dimension(*), intent(in) ipdstmpl, integer, intent(in) ibmap, integer, intent(in) idrsnum, integer, dimension(*), intent(in) idrstmpl, integer, dimension(*), intent(out) kpds, integer, intent(out) iret)"

.PP
This routine creates a GRIB1 PDS (Section 1) from appropriate information from a GRIB2 Product Definition Template\&. 
.PP
\fBNote\fP
.RS 4
Use pds2pdtens for ensemble related PDS\&.
.RE
.PP
.SS "Program History Log"
Date   Programmer   Comments    2003-06-12   Gilbert   Initial\&.    2005-04-19   Gilbert   Changed scaling factor used with potential vorticity surfaces\&.    2007-05-08   VUONG   Add Product Definition Template entries 120-124, 131, 88, 45, 47\&.    2007-05-14   Boi Vuong   Added Time Range Indicator 51 (Climatological Mean Value)    2007-10-24   Boi Vuong   Added level 8 (Nominal top of atmosphere)    2009-05-19   Boi Vuong   Added levels 10(Entire Atmosphere), 11(Cumulonimbus Base),12(Cumulonimbus Top) and level 126(Isobaric Pa)    2009-12-14   Boi Vuong   Added check for WAFS to use PDT 4\&.15 for Icing, Turbulence and Cumulonimbus    2010-08-10   Boi Vuong   Added check for FNMOC to use TMP as TMAX and TMIN - Removed check WAFS MAX wind level    2011-10-24   Boi Vuong   Added check for NAM (NMM-B) parameters to set statistical processing as MAX and MIN    2012-03-29   Boi Vuong   Added check Time Range for APCP in FNMOC    2014-05-20   Boi Vuong   Added check Time Range after F252    2014-11-14   Boi Vuong   Added check Time Range for 15-hr or 18-hr or 21-hr or 24-hr Accumulation for APCP after F240    2018-07-26   Boi Vuong   Added check Time Range for continuous accumulated APCP after F252 when convert from grib2 to grib1   
.PP
\fBParameters\fP
.RS 4
\fIidisc\fP GRIB2 discipline from Section 0\&. 
.br
\fIidsect\fP GRIB2 Section 1 info\&.
.IP "\(bu" 2
idsect(1) Id of orginating centre (Common Code Table C-1)
.IP "\(bu" 2
idsect(2) Id of orginating sub-centre (local table)
.IP "\(bu" 2
idsect(3) GRIB Master Tables Version Number (Code Table 1\&.0)
.IP "\(bu" 2
idsect(4) GRIB Local Tables Version Number (Code Table 1\&.1)
.IP "\(bu" 2
idsect(5) Significance of Reference Time (Code Table 1\&.2)
.IP "\(bu" 2
idsect(6) Reference Time - Year (4 digits)
.IP "\(bu" 2
idsect(7) Reference Time - Month
.IP "\(bu" 2
idsect(8) Reference Time - Day
.IP "\(bu" 2
idsect(9) Reference Time - Hour
.IP "\(bu" 2
idsect(10) Reference Time - Minute
.IP "\(bu" 2
idsect(11) Reference Time - Second
.IP "\(bu" 2
idsect(12) Production status of data (Code Table 1\&.3)
.IP "\(bu" 2
idsect(13) Type of processed data (Code Table 1\&.4) 
.PP
.br
\fIipdsnum\fP GRIB2 Product Definition Template Number 
.br
\fIipdstmpl\fP GRIB2 Product Definition Template entries for PDT 4\&.ipdsnum 
.br
\fIibmap\fP GRIB2 bitmap indicator from octet 6, Section 6\&. 
.br
\fIidrsnum\fP GRIB2 Data Representation Template Number 
.br
\fIidrstmpl\fP GRIB2 Data Representation Template entries 
.br
\fIkpds\fP GRIB1 PDS info as specified in W3FI63\&.
.IP "\(bu" 2
1 id of center
.IP "\(bu" 2
2 generating process id number
.IP "\(bu" 2
3 grid definition
.IP "\(bu" 2
4 gds/bms flag (right adj copy of octet 8)
.IP "\(bu" 2
5 indicator of parameter
.IP "\(bu" 2
6 type of level
.IP "\(bu" 2
7 height/pressure , etc of level
.IP "\(bu" 2
8 year including (century-1)
.IP "\(bu" 2
9 month of year
.IP "\(bu" 2
10 day of month
.IP "\(bu" 2
11 hour of day
.IP "\(bu" 2
12 minute of hour
.IP "\(bu" 2
13 indicator of forecast time unit
.IP "\(bu" 2
14 time range 1
.IP "\(bu" 2
15 time range 2
.IP "\(bu" 2
16 time range flag
.IP "\(bu" 2
17 number included in average
.IP "\(bu" 2
18 version nr of grib specification
.IP "\(bu" 2
19 version nr of parameter table
.IP "\(bu" 2
20 nr missing from average/accumulation
.IP "\(bu" 2
21 century of reference time of data
.IP "\(bu" 2
22 units decimal scale factor
.IP "\(bu" 2
23 subcenter number 
.PP
.br
\fIiret\fP Error return value:
.IP "\(bu" 2
0 Successful
.IP "\(bu" 2
1 Don't know what to do with pre-defined bitmap\&.
.IP "\(bu" 2
2 Unrecognized GRIB2 PDT 4\&.ipdsnum
.PP
.RE
.PP
\fBAuthor\fP
.RS 4
Stephen Gilbert 
.RE
.PP
\fBDate\fP
.RS 4
2003-06-12 
.RE
.PP

.PP
Definition at line 77 of file makepds\&.F90\&.
.PP
References levelcnv()\&.
.PP
Referenced by cnv21()\&.
.SH "Author"
.PP 
Generated automatically by Doxygen for cnvgrib from the source code\&.
