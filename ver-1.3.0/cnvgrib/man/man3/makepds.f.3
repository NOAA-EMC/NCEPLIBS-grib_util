.TH "/home/ed/NCEPLIBS-grib_util/src/cnvgrib/makepds.f" 3 "Tue Dec 14 2021" "Version 1.2.3" "cnvgrib" \" -*- nroff -*-
.ad l
.nh
.SH NAME
/home/ed/NCEPLIBS-grib_util/src/cnvgrib/makepds.f
.SH SYNOPSIS
.br
.PP
.SS "Functions/Subroutines"

.in +1c
.ti -1c
.RI "subroutine \fBlevelcnv\fP (ipdstmpl, ltype, lval)"
.br
.ti -1c
.RI "subroutine \fBmakepds\fP (idisc, idsect, ipdsnum, ipdstmpl, ibmap, idrsnum, idrstmpl, kpds, iret)"
.br
.RI "This routine creates a GRIB1 PDS (Section 1) from appropriate information from a GRIB2 Product Definition Template\&. "
.in -1c
.SH "Detailed Description"
.PP 


\&. \&. \&. 
.PP
\fBAuthor\fP
.RS 4
Gilbert 
.RE
.PP
\fBDate\fP
.RS 4
2003-06-12 
.RE
.PP

.PP
Definition in file \fBmakepds\&.f\fP\&.
.SH "Function/Subroutine Documentation"
.PP 
.SS "subroutine makepds (integer, intent(in) idisc, integer, dimension(*), intent(in) idsect, integer, intent(in) ipdsnum, integer, dimension(*), intent(in) ipdstmpl, integer, intent(in) ibmap, integer, intent(in) idrsnum, integer, dimension(*), intent(in) idrstmpl, integer, dimension(*), intent(out) kpds, integer, intent(out) iret)"

.PP
This routine creates a GRIB1 PDS (Section 1) from appropriate information from a GRIB2 Product Definition Template\&. PROGRAM HISTORY LOG: 2003-06-12 Gilbert 2005-04-19 Gilbert - Changed scaling factor used with potential vorticity surfaces\&. 2007-05-08 VUONG - Add Product Definition Template entries 120 - Ice Concentration Analysis 121 - Western North Atlantic Regional Wave Model 122 - Alaska Waters Regional Wave Model 123 - North Atlantic Hurricane Wave Model 124 - Eastern North Pacific Regional Wave Model 131 - Great Lake Wave Model 88 - NOAA Wave Watch III (NWW3) 45 - Coastal Ocean Circulation 47 - HYCOM - North Pacific basin 2007-05-14 Boi Vuong - Added Time Range Indicator 51 (Climatological Mean Value) 2007-10-24 Boi Vuong - Added level 8 (Nominal top of atmosphere) 2009-05-19 Boi Vuong - Added levels 10(Entire Atmosphere), 11(Cumulonimbus Base),12(Cumulonimbus Top) and level 126(Isobaric Pa) 2009-12-14 Boi Vuong - Added check for WAFS to use PDT 4\&.15 for Icing, Turbulence and Cumulonimbus 2010-08-10 Boi Vuong - Added check for FNMOC to use TMP as TMAX and TMIN
.IP "\(bu" 2
Removed check WAFS MAX wind level 2011-10-24 Boi Vuong - Added check for NAM (NMM-B) parameters to set statistical processing as MAX and MIN 2012-03-29 Boi Vuong - Added check Time Range for APCP in FNMOC 2014-05-20 Boi Vuong - Added check Time Range after F252 2014-11-14 Boi Vuong - Added check Time Range for 15-hr or 18-hr or 21-hr or 24-hr Accumulation for APCP after F240 2018-07-26 Boi Vuong - Added check Time Range for continuous accumulated APCP after F252 when convert from grib2 to grib1
.PP
.PP
USAGE: CALL makepds(idisc,idsect,ipdsnum,ipdstmpl,ibmap, idrsnum,idrstmpl,kpds,iret) INPUT ARGUMENT LIST: idisc - GRIB2 discipline from Section 0\&. idsect() - GRIB2 Section 1 info\&. idsect(1)=Id of orginating centre (Common Code Table C-1) idsect(2)=Id of orginating sub-centre (local table) idsect(3)=GRIB Master Tables Version Number (Code Table 1\&.0) idsect(4)=GRIB Local Tables Version Number (Code Table 1\&.1) idsect(5)=Significance of Reference Time (Code Table 1\&.2) idsect(6)=Reference Time - Year (4 digits) idsect(7)=Reference Time - Month idsect(8)=Reference Time - Day idsect(9)=Reference Time - Hour idsect(10)=Reference Time - Minute idsect(11)=Reference Time - Second idsect(12)=Production status of data (Code Table 1\&.3) idsect(13)=Type of processed data (Code Table 1\&.4) ipdsnum - GRIB2 Product Definition Template Number ipdstmpl() - GRIB2 Product Definition Template entries for PDT 4\&.ipdsnum ibmap - GRIB2 bitmap indicator from octet 6, Section 6\&. idrsnum - GRIB2 Data Representation Template Number idrstmpl() - GRIB2 Data Representation Template entries
.PP
OUTPUT ARGUMENT LIST: kpds() - GRIB1 PDS info as specified in W3FI63\&. (1) - ID OF CENTER (2) - GENERATING PROCESS ID NUMBER (3) - GRID DEFINITION (4) - GDS/BMS FLAG (RIGHT ADJ COPY OF OCTET 8) (5) - INDICATOR OF PARAMETER (6) - TYPE OF LEVEL (7) - HEIGHT/PRESSURE , ETC OF LEVEL (8) - YEAR INCLUDING (CENTURY-1) (9) - MONTH OF YEAR (10) - DAY OF MONTH (11) - HOUR OF DAY (12) - MINUTE OF HOUR (13) - INDICATOR OF FORECAST TIME UNIT (14) - TIME RANGE 1 (15) - TIME RANGE 2 (16) - TIME RANGE FLAG (17) - NUMBER INCLUDED IN AVERAGE (18) - VERSION NR OF GRIB SPECIFICATION (19) - VERSION NR OF PARAMETER TABLE (20) - NR MISSING FROM AVERAGE/ACCUMULATION (21) - CENTURY OF REFERENCE TIME OF DATA (22) - UNITS DECIMAL SCALE FACTOR (23) - SUBCENTER NUMBER iret - Error return value: 0 = Successful 1 = Don't know what to do with pre-defined bitmap\&. 2 = Unrecognized GRIB2 PDT 4\&.ipdsnum
.PP
REMARKS: Use pds2pdtens for ensemble related PDS
.PP
ATTRIBUTES: LANGUAGE: Fortran 90 MACHINE: IBM SP 
.PP
Definition at line 101 of file makepds\&.f\&.
.PP
Referenced by cnv21()\&.
.SH "Author"
.PP 
Generated automatically by Doxygen for cnvgrib from the source code\&.
