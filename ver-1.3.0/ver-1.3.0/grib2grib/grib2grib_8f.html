<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>grib2grib: /home/ed/NCEPLIBS-grib_util/src/grib2grib/grib2grib.f File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">grib2grib
   &#160;<span id="projectnumber">1.2.3</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('grib2grib_8f.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions/Subroutines</a>  </div>
  <div class="headertitle">
<div class="title">grib2grib.f File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a href="grib2grib_8f_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:a09a473d88b1de0fa8b3c0e4574a53aa6"><td class="memItemLeft" align="right" valign="top">program&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="grib2grib_8f.html#a09a473d88b1de0fa8b3c0e4574a53aa6">grib2grib</a></td></tr>
<tr class="memdesc:a09a473d88b1de0fa8b3c0e4574a53aa6"><td class="mdescLeft">&#160;</td><td class="mdescRight">FINDS AND EXTRACTS GRIB RECORDS FROM A GRIB FILE MADE BY GRIBAWP1 FOR FAMILY OF SERVICES.  <a href="grib2grib_8f.html#a09a473d88b1de0fa8b3c0e4574a53aa6">More...</a><br /></td></tr>
<tr class="separator:a09a473d88b1de0fa8b3c0e4574a53aa6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><dl class="section author"><dt>Author</dt><dd>VUONG </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2001-05-18 </dd></dl>

<p class="definition">Definition in file <a class="el" href="grib2grib_8f_source.html">grib2grib.f</a>.</p>
</div><h2 class="groupheader">Function/Subroutine Documentation</h2>
<a id="a09a473d88b1de0fa8b3c0e4574a53aa6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09a473d88b1de0fa8b3c0e4574a53aa6">&#9670;&nbsp;</a></span>grib2grib()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">program grib2grib</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>FINDS AND EXTRACTS GRIB RECORDS FROM A GRIB FILE MADE BY GRIBAWP1 FOR FAMILY OF SERVICES. </p>
<p>CONTROL CARDS CAN BE USED TO READ AND EXTRACT ALL OR SELECTED GRIB RECORDS FROM A GRIB FILE. TO EXTRACT ONLY A SELECTED NUMBER OF GRIB RECORDS FROM A GRIB FILE, A CONTROL CARD WITH A PDS CAN BE USED. IF THE PDS IN THE CONTROL CARD IS FOUND IN THE INPUT GRIB FILE, THE ENTIRE GRIB MESSAGE 'GRIB' TO '7777' IS WRITTEN TO THE DESIGNATED OUTPUT FILE. CONTROL CARDS CAN ALSO BE USED TO EXTRACT GRIB RECORDS ACCORDING TO THEIR GRID TYPE. NOTE: THIS PROGRAM WAS DERIVED FROM THE 'unpkgrb1.f' CODE BUT DOES NOT UNPACK ANY DATA.</p>
<p>PROGRAM HISTORY LOG:</p><ul>
<li>96-05-21 SOUTHALL</li>
<li>98-05-07 JOHNSON</li>
<li>98-07-01 VUONG CONVERTED TO FORTRAN 90 AND Y2K COMPLIANT REMOVED CALLS TO W3LOG</li>
<li>99-05-19 VUONG CONVERTED TO IBM RS/6000 SP</li>
<li>01-05-18 VUONG INCREASING THE SIZE OF WORK ARRAY TO HANDLE THE LARGER GRIB FILE.</li>
<li>2012-08-09 VUONG MODIFIED TO USE MODULE IFPORT</li>
</ul>
<p>USAGE: INPUT FILES:</p><ul>
<li>5 - INPUT CONTROL CARDS (3 TYPES) FORMAT (I1,I3,A44) FORMAT (A44) FORMAT (6(2X,4Z2),2X,I1)</li>
<li>11 - INTERNAL UNIT NUMBER OF AWIP GRIB INPUT FILE</li>
</ul>
<p>OUTPUT FILES:</p><ul>
<li>6 - PRINT OUTPUT (STANDARD OUTPUT - FORTRAN) PRINTS ON SCREEN OF PC/WORKSTATION.</li>
<li>51 - 1 WRITE FOR EACH GRIB RECORD ENTIRE GRIB MESSAGE, 'GRIB' TO '7777'</li>
</ul>
<p>SUBPROGRAMS CALLED:</p><ul>
<li>W3LIB - IW3PDS, XMOVEX, W3TAGB</li>
</ul>
<p>EXIT STATES:</p><ul>
<li>COND = 0 SUCCESSFUL RUN</li>
<li>= 10 ERROR ON OPEN OF CONTROL CARD FILE</li>
<li>= 20 ERROR ON OPEN OF INPUT GRIB FILE</li>
<li>= 30 ERROR ON OPEN OF OUTPUT PACKED GRIB FILE</li>
<li>= 40 ERROR, INPUT GRIB FILE IS TOO BIG, CHANGE PROGRAM</li>
<li>= 60 ERROR READING GRIB FILE</li>
<li>= 99 I/O ERROR USING STAT FUNCTION</li>
<li>= 100 PROGRAMMER FORGOT CONTROL CARDS</li>
<li>= 110 NO CARD WITH FFFFFFFF SHOWING END OF PDS CARDS</li>
</ul>
<p>WARNING: On a CRAY you may have to use assign cards. If your job prints the file name and file byte size O.K. but quits with an OPEN INPUT FILE ERROR, use these assign cards (at the prompt).</p>
<p>$ assign -R $ assign -a input-file-name -s sbin input-file-name</p>
<p>EXAMPLE: CONTROL CARDS IN 'grib2grib.dat' FILE</p>
<p>Example 1. To extract selected records (w/out unpacking them) from file xtrn.eta24 and xtrn.mrf144 using cards read in with the PDS of the record. After the last card with a PDS, the next card must have FFFFFFFF starting in column 3. Get the 500 mb HGT and 500 mb TMP (1st 2 PDS's) and the 850 mb RH and the MSL (2nd 2 PDS's) and write the packed data into eta.packed.dat and mso.packed.dat respectively. The PDS's of these fields and other can be obtained by getting an inventory of the input grib files xtrn.eta24 and xtrn.mso30. Column 63 is set to 2 so that only 11 of the 1st 12 bytes are used to find records. For more info. concerning the number in Col. 63 refer to the subroutine "iw3pds.f"</p>
<pre>      
  col. 1
       0000xtrn.eta24
       eta.packed.dat
         00001C02  0759D380  076401F4  00000000  00000000  00000000  2
         00001C02  0759D380  0B6401F4  00000000  00000000  00000000  2
         FFFFFFFF  00000000  00000000  00000000  00000000  00000000  0
       0000xtrn.mso30
       mso.packed.dat
         00001C02  0755D4C0  34640352  00000000  00000000  00000000  2
         00001C02  074EC980  02660000  00000000  00000000  00000000  2
         FFFFFFFF  00000000  00000000  00000000  00000000  00000000  0
 </pre><p> <br  />
</p>
<p>Example 2. To extract only the grib messages from xtrn.mrf144 and write them (without unpacking) into mrf.packed.dat.</p>
<pre>      
  col. 1
       1000xtrn.mrf144
       mrf.packed.dat
 </pre><p> <br  />
</p>
<p>Example 3. To extract all grib records in the file xtrn.mrf144 by grid type 201 and 203 placing them into mrf201.dat and mrf203.dat respectively. </p><pre>      
  col. 1
       2201xtrn.mrf144
       mrf201.dat
       2203xtrn.mrf144
       mrf203.dat
 </pre><p> <br  />
 </p>

<p class="definition">Definition at line <a class="el" href="grib2grib_8f_source.html#l00112">112</a> of file <a class="el" href="grib2grib_8f_source.html">grib2grib.f</a>.</p>

<p class="reference">References <a class="el" href="hexchar_8f_source.html#l00009">hexchar()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_3e9ae27c16d162753111efe275f73e2d.html">grib2grib</a></li><li class="navelem"><a class="el" href="grib2grib_8f.html">grib2grib.f</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
